# 童乐听听 - 儿童故事和儿歌应用

## 项目概述

童乐听听是一款专为儿童设计的安卓应用，提供丰富的故事和儿歌内容，并支持定时关闭功能。应用采用现代Android开发技术，包括Kotlin、Jetpack Compose、MVVM架构、Hilt依赖注入等，为儿童提供了简单易用、界面友好的音频播放体验。

## 主要功能

- **故事播放**：提供多种分类的儿童故事，包括童话故事、寓言故事、科普故事和睡前故事等
- **儿歌播放**：包含经典儿歌、英文儿歌、摇篮曲和节日歌曲等多种分类
- **定时关闭**：支持设置播放定时器，可在指定时间后自动停止播放
- **睡眠模式**：定时关闭前逐渐降低音量，帮助儿童平稳入睡
- **收藏功能**：可收藏喜爱的故事和儿歌，方便再次收听
- **主题切换**：支持亮色和暗色主题，适应不同的使用环境
- **家长控制**：提供家长控制功能，可设置使用时间和内容限制

## 技术架构

- **编程语言**：Kotlin
- **UI框架**：Jetpack Compose
- **架构模式**：MVVM (Model-View-ViewModel)
- **依赖注入**：Hilt
- **数据存储**：DataStore
- **音频播放**：ExoPlayer
- **异步处理**：Kotlin Coroutines + Flow

## 项目结构

```
app/
├── src/
│   ├── main/
│   │   ├── java/com/tongle/app/
│   │   │   ├── data/
│   │   │   │   ├── model/         # 数据模型
│   │   │   │   └── repository/    # 数据仓库
│   │   │   ├── di/                # 依赖注入
│   │   │   ├── service/           # 后台服务
│   │   │   ├── ui/
│   │   │   │   ├── screens/       # 界面
│   │   │   │   ├── theme/         # 主题
│   │   │   │   ├── viewmodel/     # 视图模型
│   │   │   │   └── test/          # 测试工具
│   │   │   ├── MainActivity.kt    # 主活动
│   │   │   └── TongLeApplication.kt # 应用入口
│   │   ├── res/                   # 资源文件
│   │   └── AndroidManifest.xml    # 应用清单
│   └── test/                      # 单元测试
└── build.gradle                   # 构建配置
```

## 开发和测试

应用已经完成了核心功能的开发和测试，包括：

1. **数据模型设计**：创建了Story、Song、UserSettings等数据模型
2. **音频播放服务**：实现了AudioPlaybackService，支持播放控制、定时关闭和睡眠模式
3. **数据管理**：实现了ContentRepository和UserSettingsRepository
4. **业务逻辑层**：创建了多个ViewModel组件
5. **UI设计**：设计了故事页面、儿歌页面、个人资料页面和播放界面等
6. **测试**：创建了测试工具类，对应用的各个组件进行了测试

## 未来改进

- 添加更多内容分类和音频资源
- 实现离线下载功能
- 添加用户账户系统，支持多设备同步
- 增加互动性内容，如有声绘本
- 优化性能和电池使用效率

## 使用说明

1. 在Android Studio中打开项目
2. 构建并运行应用
3. 应用将显示主界面，包含故事、儿歌和个人资料三个主要标签页
4. 点击故事或儿歌卡片开始播放
5. 在播放界面可以控制播放、设置定时器和收藏内容
6. 在个人资料页面可以查看收藏内容和修改设置
